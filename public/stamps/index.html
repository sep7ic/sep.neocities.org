<!DOCTYPE html>
<html>
  <head>
    <title>Blog Post</title>
    <link rel="icon" href="../images/favicon.png" type="image/x-icon"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8"> 
    <link href="../style/style.css" rel="stylesheet" type="text/css" media="all">    
  </head>
  <body>
    <div id="headimg"></div>
    <div id="container">
    <div id="header">...</div>
    <div id="content">
      
      <p>here are all my stamps!!</p>

      <details id="me">
        <summary>me<span class="icon">▶</span></summary>
      </details>
      <details id="likes">
        <summary>likes<span class="icon">▶</span></summary>
      </details>
      <details id="controversial">
        <summary>controversial<span class="icon">▶</span></summary>
      </details>
      
    
    </div> 
    <div id="footer"></div>
    </div> 
  <script src="../script.js"></script>

  <script>
    var xhr = new XMLHttpRequest();
    xhr.open("GET", "stamps/me/", true);
    xhr.responseType = 'document';
    xhr.onload = () => {
      if (xhr.status === 200) {
        var elements = xhr.response.getElementsByTagName("a");
        for (x of elements) {
          if ( x.href.match(/\.(jpe?g|png|gif)$/) ) { 
              let img = document.createElement("img");
              img.src = x.href;
              document.getElementById("me").appendChild(img);
          } 
        };
      } 
      else {
        alert('Request failed. Returned status of ' + xhr.status);
      }
    }
    xhr.send()


    var xhr1 = new XMLHttpRequest();
    xhr1.open("GET", "stamps/likes/", true);
    xhr1.responseType = 'document';
    xhr1.onload = () => {
      if (xhr1.status === 200) {
        var elements = xhr1.response.getElementsByTagName("a");
        for (x of elements) {
          if ( x.href.match(/\.(jpe?g|png|gif)$/) ) { 
              let img = document.createElement("img");
              img.src = x.href;
              document.getElementById("likes").appendChild(img);
          } 
        };
      } 
      else {
        alert('Request failed. Returned status of ' + xhr1.status);
      }
    }
    xhr1.send()


    var xhr2 = new XMLHttpRequest();
    xhr2.open("GET", "stamps/controversial/", true);
    xhr2.responseType = 'document';
    xhr2.onload = () => {
      if (xhr2.status === 200) {
        var elements = xhr2.response.getElementsByTagName("a");
        for (x of elements) {
          if ( x.href.match(/\.(jpe?g|png|gif)$/) ) { 
              let img = document.createElement("img");
              img.src = x.href;
              document.getElementById("controversial").appendChild(img);
          } 
        };
      } 
      else {
        alert('Request failed. Returned status of ' + xhr2.status);
      }
    }
    xhr2.send()


    </script>  

  </body>
</html>
